import{r as a,j as b}from"./radix-D4tmaoiR.js";import{u as $,a as j,b as I,c as p,m as S}from"./index-PetxVP5s.js";import{c as h,al as X}from"./motion-4O9EsY6r.js";import"./react-D3F3s8fL.js";import"./vendor-CsnhmGuw.js";function M(n,...o){const u=n.length;function r(){let t="";for(let c=0;c<u;c++){t+=n[c];const d=o[c];d&&(t+=h(d)?d.get():d)}return t}return $(o.filter(h),r)}function w(n,o={}){const{isStatic:u}=a.useContext(j),r=()=>h(n)?n.get():n;if(u)return I(r);const t=p(r());return a.useInsertionEffect(()=>X(t,n,o),[t,JSON.stringify(o)]),t}const Y='a,button,[role="button"],input,textarea,select,label,[tabindex]:not([tabindex="-1"])';function k(){return a.useMemo(()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(prefers-reduced-motion: reduce)").matches,[])}function O(){if(typeof window>"u"||typeof navigator>"u")return!0;const n="ontouchstart"in window||navigator.maxTouchPoints&&navigator.maxTouchPoints>0,o=window.innerWidth<768;return n||o}function J(){if(typeof window>"u"||O())return null;const n=k(),o=a.useRef(null),u=a.useRef(null),r=p(0),t=p(0),c=w(r,{stiffness:600,damping:40}),d=w(t,{stiffness:600,damping:40}),T=w(r,{stiffness:200,damping:30}),F=w(t,{stiffness:200,damping:30}),f=p(1),m=p(1),V=M`translate3d(${T}px, ${F}px, 0) translate(-50%, -50%) scale(${f})`,P=M`translate3d(${c}px, ${d}px, 0) translate(-50%, -50%) scale(${m})`,v=a.useRef(!1),g=a.useRef(!1),E=a.useRef(!1);return a.useEffect(()=>{if(n){const e=()=>{if(v.current)return;v.current=!0;const i=o.current;i&&(i.style.opacity="1"),u.current&&(u.current.style.opacity="0")};window.addEventListener("load",e,{once:!0}),document.addEventListener("pointermove",e,{once:!0,passive:!0});const l=i=>{r.set(i.clientX),t.set(i.clientY)};return document.addEventListener("pointermove",l,{passive:!0}),()=>{window.removeEventListener("load",e),document.removeEventListener("pointermove",e,!0),document.removeEventListener("pointermove",l,!0)}}const x=e=>{r.set(e.clientX),t.set(e.clientY);const l=e.target;if(l&&typeof l.closest=="function"){const i=!!l.closest(Y);if(i!==g.current){g.current=i,f.set(i?1.15:1);const s=u.current;s&&(i?(s.style.opacity="0.9",s.style.boxShadow="0 0 24px rgba(103, 232, 249, 0.35)",s.style.borderColor="#67E8F9",s.style.backgroundColor="rgba(103,232,249,0.08)"):(s.style.opacity="0.7",s.style.boxShadow="0 0 18px rgba(91, 60, 255, 0.25)",s.style.borderColor="#5B3CFF",s.style.backgroundColor="rgba(91,60,255,0.05)"))}}},L=()=>{E.current=!0,f.set((g.current?1.15:1)*.92),m.set(.92)},C=()=>{E.current=!1,f.set(g.current?1.15:1),m.set(1)},y=()=>{if(v.current)return;v.current=!0;const e=o.current;e&&(e.style.opacity="1"),document.body.classList.add("cursor-none")};window.addEventListener("load",y,{once:!0}),document.addEventListener("pointermove",y,{once:!0,passive:!0}),document.addEventListener("pointermove",x,{passive:!0}),document.addEventListener("pointerdown",L,{passive:!0}),document.addEventListener("pointerup",C,{passive:!0});const R=()=>{const e=o.current;e&&(e.style.opacity=document.hidden?"0":"1")};return document.addEventListener("visibilitychange",R),()=>{window.removeEventListener("load",y),document.removeEventListener("pointermove",y,!0),document.removeEventListener("pointermove",x,!0),document.removeEventListener("pointerdown",L,!0),document.removeEventListener("pointerup",C,!0),document.removeEventListener("visibilitychange",R,!0),document.body.classList.remove("cursor-none")}},[n,r,t,f,m]),b.jsxs("div",{ref:o,style:{position:"fixed",left:0,top:0,width:"100vw",height:"100vh",pointerEvents:"none",zIndex:2147483647,opacity:0,transition:"opacity 200ms ease"},"aria-hidden":!0,children:[b.jsx(S.div,{ref:u,style:{position:"absolute",width:28,height:28,borderRadius:"9999px",border:"1.5px solid #5B3CFF",boxShadow:"0 0 18px rgba(91, 60, 255, 0.25)",backgroundColor:"rgba(91,60,255,0.05)",transform:V,willChange:"transform, opacity",transition:"opacity 150ms ease",pointerEvents:"none"}}),b.jsx(S.div,{style:{position:"absolute",width:8,height:8,borderRadius:"9999px",backgroundColor:"#E6EEF3",boxShadow:"0 0 14px rgba(103, 232, 249, 0.35)",transform:P,willChange:"transform, opacity",pointerEvents:"none"}})]})}export{J as default};
